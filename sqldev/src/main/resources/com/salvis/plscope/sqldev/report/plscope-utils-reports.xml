<?xml version="1.0" encoding="UTF-8" ?>
<displays>
<folder>
	<name><![CDATA[plscope-utils Reports]]></name>
	<tooltip><![CDATA[PL/Scope reports]]></tooltip>
	<description><![CDATA[PL/Scope based reports maintained in https://github.com/PhilippSalvisberg/plscope-utils ]]></description>
		<display id="1dc49f53-015d-1000-8001-c0a8011251fe" type="" style="Table" enable="true">
		<name><![CDATA[Duplicate SQL Statements]]></name>
		<description><![CDATA[Reports duplicate static SQL statements with packages, procedures, functions, triggers and types. ]]></description>
		<tooltip><![CDATA[Reports duplicate static SQL statements]]></tooltip>
		<drillclass><![CDATA[]]></drillclass>
		<CustomValues>
			<TYPE><![CDATA[horizontal]]></TYPE>
		</CustomValues>
		<query minversion="12.2">
			<sql><![CDATA[WITH
   stmt AS (
      SELECT owner,
             object_type,
             object_name,
             type,
             line, 
             col, 
             sql_id,
             CASE 
                WHEN (count(sql_id) OVER (PARTITION BY sql_id)) > 1 THEN 
                   'YES'
                ELSE 
                   'NO' 
             END AS is_duplicate,
             full_text
        FROM sys.all_statements
       WHERE owner = NVL(:OBJECT_OWNER, USER)
   )
SELECT owner AS "Owner",
       object_type AS "Object type",
       object_name AS "Object name",
       CASE
          WHEN object_type IN ('FUNCTION', 'PACKAGE', 'PACKAGE BODY', 'PROCEDURE', 'TRIGGER', 'TYPE', 'TYPE BODY') THEN
             'SQLDEV:LINK:' || owner || ':' || object_type || ':' || object_name || ':' ||
                to_char(line,'FM0000009') || ':' || to_char(col,'FM0000009') || ':' || type ||
                ':oracle.dbtools.raptor.controls.grid.DefaultDrillLink'
          ELSE
             type
       END AS "Type",
       line AS "Line", 
       col AS "Col", 
       sql_id AS "SQL_ID",
       full_text AS "Text"
  FROM stmt
 WHERE is_duplicate = 'YES'
 ORDER BY owner, object_type, object_name, sql_id, line, col]]></sql>
			<binds>
				<bind id="OBJECT_OWNER">
					<prompt><![CDATA[Owner]]></prompt>
					<tooltip><![CDATA[OBJECT_OWNER]]></tooltip>
					<value><![CDATA[NULL_VALUE]]></value>
					<bracket><![CDATA[null]]></bracket>
				</bind>
			</binds>
		</query>
			<pdf version="VERSION_1_7" compression="CONTENT">
				<docproperty title="" author="" subject="" keywords="" />
				<cell toppadding="2" bottompadding="2" leftpadding="2" rightpadding="2" horizontalalign="LEFT" verticalalign="TOP" wrap="true" />
				<column>
					<heading font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="FIRST_PAGE" />
					<footing font="null" size="10" style="NORMAL" color="-16777216" rowshading="-1" labeling="NONE" />
					<blob blob="NONE" zip="false" />
				</column>
				<table font="Times New Roman" size="10" style="NORMAL" color="-16777216" userowshading="false" oddrowshading="-1" evenrowshading="-1" showborders="true" spacingbefore="12" spacingafter="12" horizontalalign="LEFT" />
				<header enable="false" generatedate="false">
					<data>
					null					</data>
				</header>
				<footer enable="false" generatedate="false">
					<data value="null" />
				</footer>
				<pagesetup papersize="LETTER" orientation="1" measurement="in" margintop="1.0" marginbottom="1.0" marginleft="1.0" marginright="1.0" />
			</pdf>
	</display>
</folder>
</displays>